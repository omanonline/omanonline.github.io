"use strict";(self.webpackChunkomanonline=self.webpackChunkomanonline||[]).push([[592],{2844:(V,C,u)=>{u.d(C,{s:()=>y});var c=u(5861),w=u(5879),v=u(9862);class m extends Error{constructor(d,f,s){super(s),Object.setPrototypeOf(this,new.target.prototype),this.name=m.name,this.url=f,this.code=d}}let y=(()=>{var _;class d{constructor(s){this.http=s}download(s,n={}){return(0,c.Z)(function*(){const h=yield fetch(s,n),r=yield h.json();if(200!==h.status)throw r&&r.status?new m(r.status,s,JSON.stringify(r)):new m(h.status,s,h.statusText);return r})()}downloadRelative(s,n={}){var h=this;return(0,c.Z)(function*(){return h.download(h.businessUrl+s,n)})()}request(s,n={}){return(0,c.Z)(function*(){return yield fetch(s,n)})()}requestRelative(s,n={}){var h=this;return(0,c.Z)(function*(){return yield fetch(h.businessUrl+s,n)})()}loadBusinessList(){var s=this;return(0,c.Z)(function*(){let n=null;return n=yield s.download("https://omanonline.org/businesses/businesses.json"),n})()}getBaseUrl(){var s=this;return(0,c.Z)(function*(){return s.businessUrl})()}setBaseUrl(s,n){var h=this;return(0,c.Z)(function*(){h.businessUrl=n,localStorage.setItem(s,n)})()}resetBaseUrl(s){var n=this;return(0,c.Z)(function*(){localStorage.removeItem(s),n.businessUrl=n.resetUrl})()}loadCategories(){var s=this;return(0,c.Z)(function*(){return s.download("https://omanonline.org/businesses/categories.json")})()}loadBusiness(s){var n=this;return(0,c.Z)(function*(){return n.download(`https://omanonline.org/businesses/businesses/${s}.json`)})()}}return(_=d).\u0275fac=function(s){return new(s||_)(w.LFG(v.eN))},_.\u0275prov=w.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),d})()},8337:(V,C,u)=>{u.d(C,{A8:()=>n,Ov:()=>f});var c=u(8645),w=u(5879);class f{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,l){this._multiple=e,this._emitChanges=i,this.compareWith=l,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new c.x,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const l=this._hasQueuedChanges();return this._emitChangeEvent(),l}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}let n=(()=>{var r;class e{constructor(){this._listeners=[]}notify(i,l){for(let o of this._listeners)o(i,l)}listen(i){return this._listeners.push(i),()=>{this._listeners=this._listeners.filter(l=>i!==l)}}ngOnDestroy(){this._listeners=[]}}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275prov=w.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})()},5861:(V,C,u)=>{function c(v,m,y,_,d,f,s){try{var n=v[f](s),h=n.value}catch(r){return void y(r)}n.done?m(h):Promise.resolve(h).then(_,d)}function w(v){return function(){var m=this,y=arguments;return new Promise(function(_,d){var f=v.apply(m,y);function s(h){c(f,_,d,s,n,"next",h)}function n(h){c(f,_,d,s,n,"throw",h)}s(void 0)})}}u.d(C,{Z:()=>w})}}]);